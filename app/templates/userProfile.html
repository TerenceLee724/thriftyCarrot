{% extends "base.html" %}

{% block content %}
<div class="container">
<h1 class="title">
  Welcome, {{ userInfo.firstname }}!
</h1>
&nbsp;
<div class="row gutters-sm">
  <div class="col-md-4 mb-3">
    <div class="card">
      <div class="card-body">
        <div class="d-flex flex-column align-items-center text-center">
          <div class="mt-3">
            <h4>{{ userInfo.firstname }} {{ userInfo.lastname }}</h4>
          </div>
          <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__480.png" alt="Profile" class="rounded-circle" width="150">
          <div class="mt-3">
            <button class="btn btn-info">Change picture</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-8">
      <div class="card mb-3">
        <div class="card-body">
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Full Name</h6>
            </div>
            <div class="col-sm-6 text-secondary">
              {{ userInfo.firstname }} {{ userInfo.lastname }}
            </div>
            <div class="col-sm-3">
              <button type="button" data-toggle="modal" data-target="#nameEdit">Update</button>
            </div>
            <div class="modal fade" id="nameEdit" tabindex="-1" role="dialog" aria-labelledby="nameEdit" aria-hidden="true">
              <div class="modal-dialog modal-lg">
                <div class="modal-content">
                  <form action="" method="post" novalidate>
                    {{ form.hidden_tag() }}
                  <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                      <div class="mt-3">
                        <h4>Update Name Info</h4>
                      </div>
                  <div class="row mt-3">
                    {{ form.firstname.label }}<br/>
                    {{ form.firstname(size=32) }}<br/>
                    {% for error in form.firstname.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                  </div>
                  <div class="row mt-3">
                    {{ form.lastname.label }}<br/>
                    {{ form.lastname(size=32) }}<br/>
                    {% for error in form.lastname.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                  </div>
                  <div class="row mt-3">
                    <div class="col-sm-12">
                      {{ form.submit(class_="btn btn-info") }}
                    </div>
                  </div>
                  </div>
                </div>
              </div>
              </div>
            </div>
            
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Email</h6>
            </div>
            <div class="col-sm-6 text-secondary">
              {{ userInfo.email }}
            </div>
            <div class="col-sm-3">
              <button type="button" data-toggle="modal" data-target="#emailEdit">Update</button>
            </div>
            <div class="modal fade" id="emailEdit" tabindex="-1" role="dialog" aria-labelledby="emailEdit" aria-hidden="true">
              <div class="modal-dialog modal-lg">
                <div class="modal-content">
                  <form action="" method="post" novalidate>
                    {{ form.hidden_tag() }}
                  <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                      <div class="mt-3">
                        <h4>Update Email Info</h4>
                      </div>
                  <div class="row mt-3">
                    {{ form.email.label }}<br/>
                    {{ form.email(size=32) }}<br/>
                    {% for error in form.email.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                  </div>
                  <div class="row mt-3">
                    <div class="col-sm-12">
                      {{ form.submit(class_="btn btn-info") }}
                    </div>
                  </div>
                  </div>
                </div>
              </div>
              </div>
            </div>


          </div>
          <hr>
          {% if userInfo.joindate %}
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Join date</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{userInfo.joindate}}
            </div>
          </div>
          <hr>
          {% endif %}
          {% if userInfo.birthdate %}
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Birth date</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{userInfo.birthdate}}
            </div>
          </div>
          <hr>
          {% endif %}
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Password</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              ****
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-12">
              <a class="btn btn-info" href="{{ url_for('users.update') }}">Update Info</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
{% endblock %}
